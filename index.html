<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Ng2-recaptcha by DethAriel</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Ng2-recaptcha</h1>
          <h2>Angular 2 + TypeScript component for Google reCAPTCHA</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/DethAriel/ng2-recaptcha/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/DethAriel/ng2-recaptcha/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/DethAriel/ng2-recaptcha" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="angular-2--typescript-component-for-google-recaptcha" class="anchor" href="#angular-2--typescript-component-for-google-recaptcha" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Angular 2 + TypeScript component for Google reCAPTCHA</h1>

<p>A simple, configurable, easy-to-start component for handling reCAPTCHA. </p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<pre><code>npm i ng2-recaptcha --save
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<div class="highlight highlight-source-ts"><pre><span class="pl-k">import</span> { bootstrap } <span class="pl-k">from</span> <span class="pl-s">'@angular/platform-browser-dynamic'</span>;
<span class="pl-k">import</span> { Component } <span class="pl-k">from</span> <span class="pl-s">'@angular/core'</span>;
<span class="pl-k">import</span> { RecaptchaComponent, RecaptchaLoaderService } <span class="pl-k">from</span> <span class="pl-s">'ng2-recaptcha/ng2-recaptcha'</span>;

@Component({
    selector: <span class="pl-s">'my-app'</span>,
    template: <span class="pl-s">`</span>
<span class="pl-s">        &lt;recaptcha (resolved)="resolved($event)" siteKey="YOUR_SITE_KEY"&gt;&lt;/recaptcha&gt;</span>
<span class="pl-s">    `</span>,
    directives: [RecaptchaComponent],
}) <span class="pl-k">export</span> <span class="pl-k">class</span> <span class="pl-en">MyApp</span> {
    <span class="pl-en">resolved</span>(<span class="pl-v">captchaResponse</span>: <span class="pl-k">string</span>) {
        console.log(<span class="pl-s">`Resolved captcha with response </span><span class="pl-k">${</span>captchaResponse<span class="pl-k">}</span><span class="pl-s">:`</span>);
    }
}

bootstrap(MyApp, [RecaptchaLoaderService]);</pre></div>

<h2>
<a id="options" class="anchor" href="#options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Options</h2>

<p>The component supports this options:</p>

<ul>
<li><code>siteKey</code></li>
<li><code>theme</code></li>
<li><code>type</code></li>
<li><code>size</code></li>
<li><code>tabIndex</code></li>
</ul>

<p>They are all pretty well described in the <a href="https://developers.google.com/recaptcha/docs/display">reCAPTCHA docs</a>,
so I won't duplicate it here.</p>

<h2>
<a id="events" class="anchor" href="#events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Events</h2>

<ul>
<li>
<p><code>resolved(response: string)</code>. Occurs when the captcha resolution value changed. 
When user resolves captcha, use <code>response</code> parameter to send to the server for verification.
This parameter is equivalent to calling <a href="https://developers.google.com/recaptcha/docs/display#js_api"><code>grecaptcha.getResponse</code></a>.</p>

<p>If the captcha has expired prior to submitting its value to the server, the component
will reset the captcha, and trigger the <code>resolved</code> event with <code>response === null</code>.</p>
</li>
</ul>

<h2>
<a id="methods" class="anchor" href="#methods" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Methods</h2>

<ul>
<li>
<code>reset</code>. Performs a manual captcha reset. This method might be useful if your form
validation failed, and you need the user to re-enter the captcha.</li>
</ul>

<h2>
<a id="specifying-a-different-language" class="anchor" href="#specifying-a-different-language" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Specifying a different language</h2>

<p><code>&lt;recaptcha&gt;</code> supports various languages. But this settings is global, and cannot be set
on a per-captcha basis. An example below shows you how can the default behavior be overridden.</p>

<div class="highlight highlight-source-ts"><pre><span class="pl-k">import</span> { bootstrap } <span class="pl-k">from</span> <span class="pl-s">'@angular/platform-browser-dynamic'</span>;
<span class="pl-k">import</span> { Component, provide } <span class="pl-k">from</span> <span class="pl-s">'@angular/core'</span>;
<span class="pl-k">import</span> { RecaptchaLoaderService } <span class="pl-k">from</span> <span class="pl-s">'ng2-recaptcha/ng2-recaptcha'</span>;

@Component({
    selector: <span class="pl-s">'my-app'</span>,
    templateUrl: <span class="pl-s">'my-app.html'</span>,
}) <span class="pl-k">export</span> <span class="pl-k">class</span> <span class="pl-en">MyApp</span> {}

bootstrap(MyApp, [
    provide(RecaptchaLoaderService, {
        useValue: <span class="pl-k">new</span> RecaptchaLoaderService(<span class="pl-s">"fr"</span>),
    })
]);
</pre></div>

<h2>
<a id="loading-the-recaptcha-api-by-yourself" class="anchor" href="#loading-the-recaptcha-api-by-yourself" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Loading the reCAPTCHA API by yourself</h2>

<p>By default, the component assumes that the reCHAPTCHA API loading will be handled
by the <code>RecaptchaLoaderService</code>. However, you can override that by providing your
instance of this service to the Angular DI.</p>

<p>The below code snippet is an example of how such a provider can be implemented:</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>https://www.google.com/recaptcha/api.js?render=explicit<span class="pl-ii">&amp;</span>onload=onloadCallback<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;

<span class="pl-s1">&lt;<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s1">    <span class="pl-c">// bootstrap the application once the reCAPTCHA api has loaded </span></span>
<span class="pl-s1">    <span class="pl-k">function</span> <span class="pl-en">onloadCallback</span>() {</span>
<span class="pl-s1">        <span class="pl-smi">System</span>.<span class="pl-en">import</span>(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>).<span class="pl-en">catch</span>(<span class="pl-k">function</span>(<span class="pl-smi">err</span>) { <span class="pl-en">console</span>.<span class="pl-c1">error</span>(err); });</span>
<span class="pl-s1">    }</span>
<span class="pl-s1">&lt;/<span class="pl-ent">script</span>&gt;</span></pre></div>

<div class="highlight highlight-source-ts"><pre><span class="pl-k">import</span> { bootstrap } <span class="pl-k">from</span> <span class="pl-s">'@angular/platform-browser-dynamic'</span>;
<span class="pl-k">import</span> { Component, Injectable, provide } <span class="pl-k">from</span> <span class="pl-s">'@angular/core'</span>;
<span class="pl-k">import</span> { BehaviorSubject } <span class="pl-k">from</span> <span class="pl-s">'rxjs/BehaviorSubject'</span>;
<span class="pl-k">import</span> { Observable } <span class="pl-k">from</span> <span class="pl-s">'rxjs/Observable'</span>;
<span class="pl-k">import</span> { RecaptchaComponent, RecaptchaLoaderService } <span class="pl-k">from</span> <span class="pl-s">'ng2-recaptcha/ng2-recaptcha'</span>;

@Injectable()
<span class="pl-k">export</span> <span class="pl-k">class</span> <span class="pl-en">PreloadedRecaptchaAPIService</span> {
    <span class="pl-k">public</span> <span class="pl-v">ready</span>: <span class="pl-en">Observable</span>&lt;<span class="pl-k">boolean</span>&gt;;

    <span class="pl-en">constructor</span>() { 
        <span class="pl-k">let</span> <span class="pl-v">readySubject</span> = <span class="pl-k">new</span> <span class="pl-en">BehaviorSubject</span>&lt;<span class="pl-k">boolean</span>&gt;(<span class="pl-c1">true</span>);
        <span class="pl-c1">this</span>.ready <span class="pl-k">=</span> readySubject.asObservable();
    }
}

@Component({
    selector: <span class="pl-s">'my-app'</span>,
    templateUrl: <span class="pl-s">'my-app.html'</span>,
}) 
<span class="pl-k">export</span> <span class="pl-k">class</span> <span class="pl-en">MyApp</span> {}

bootstrap(MyApp, [
    provide(RecaptchaLoaderService, {
        useValue: <span class="pl-k">new</span> PreloadedRecaptchaAPIService(),
    })
]);
</pre></div>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Code released under the <a href="./LICENSE">MIT license</a>.</p>
        </section>

        <footer>
          Ng2-recaptcha is maintained by <a href="https://github.com/DethAriel">DethAriel</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
